
<!-- rnb-text-begin -->

---
title: "Day 3: Historical-Strategic Rivalries"
output: html_notebook
---


<!-- rnb-text-end -->


<!-- rnb-chunk-begin -->


<!-- rnb-frame-begin eyJtZXRhZGF0YSI6eyJjbGFzc2VzIjpbImRhdGEuZnJhbWUiXSwibnJvdyI6ODYsIm5jb2wiOjQsInN1bW1hcnkiOnsiRGVzY3JpcHRpb24iOlsiZGZbLDRdIFs4NiB4IDRdIl19fSwicmRmIjoiSDRzSUFBQUFBQUFBQnExWDNXL2lSaEQzSlJCQ29rVFJ0UTk5NkFPcXFxcXFlbEUrZW1yVlZtMk1JWVlBam10RExzZmJncmRtaTlubEZ2dTQ1T24rNVA0RjF5N0VNK3VzRkNXcGltVE43TzdNYjM3ejRRK0N4dlhwenZXT1pWbWJWc25hc0RiTFNyVzJIUC80NVBXSlpaVTIxT3FGT3FtdTVBZGw5WmxTU3VvNlVOZFZmckI1M3ZaQWJZZGRVTDNMQU5Ud1RSTlV4MGJiWnRoSHR3RGQ2bDEwYTNnZFVMdFhOcWh1WFJzMEIyalFSOVhyTmtEMUx4RjMwRUczUVloZ3poQ1puUWU0ZStFalNhZUZCdllBK2JyTlMxQmJBN1R0MkVOUWc4dUJUdE5IaEtDSGFicElweFZnSloxQkhYTzdSTnQySDVuMW10ZVlXNEIwK2dPZDJ4QVI3QzZxYmgvQldoNVdweDM4b2Z1R0NCYzIydll2T3JvT21LWWJPR2hiNkhFWHMralp1T3UxMGRhM081cXZybS9RUmx0ZkQ0R3JTV3ErdnA2ZHNLblZCcXAxdmV2b3pyc3RMSi9ub3RwM3NZVlhubTZMSG9LbWd5MzBXeHJNeHFLMmRlQ09EdHp0NkJBNnNLMmoxVFV6djRtRkd2WVExOUhSZW05RFZDOXh1UHpnTGJaYnE4TTNoVWxGTnp0d01mbGgxN2h6SytlTUo0UkhzR3lQYVdHNTVRbTVKRGV3Q3BjMG9oeFdEdUVrSXVEWVhLU0NNMXkyWlJHblVsY3JtUzFnMmFCOFJ1UVVrTG9rZlkrdSt3UE9VaHJWT296SGtaaUJpMHZsakhDZ1V1MnlkSklSSFhEWG8rbUV5bFZNaUxMbGl5S0Z3VlFTeG1tKzNNdWpoQ2xKS1hqc083ZDBQS2tGZEo2TkVqWUduSE5KK0JnY3l4ZGtUcUFHdStHU3BiZDNZU0dPblMxU3FRdmhVaUZqdld4bFBDWVMwdGpwa0ZzeW5TeFNSS3dFWWxaSXF4ek9GV21FbGpPcXo3YnJXYUt3TkxZakJVbHhXWEt5RWVndkcyTEdPQnNUYmlaWGJxY2t3UWIzNkFjMkZvRHZDNWxtTVVuZ3RKL0pLVVhxZzlzUm5iSWlkVHNaRmFoWDNVeVZka1lTNU5zU1BNb2tnV3FYMnBLOEErejJRaElLa1NvWFpFWVVXd2pWSjMreGU2SEt6b1J4T041eUphWFluNjBMSVNQZG9HWlNDMG55bmtSQ0FuaFBTREhHTEt1ZUNpUkpuQ0ZObjl4UHE1OXh0c0MwZGh5aERtdUJwbGYyNkJ5THRGTW5QRTVJUkJjVHJEQ1AwSHZMVnpmTkREc1dVazUxZ2N0aHBwbVg2NnJWc05oMlJDSm1JejBXN29SZy9oV1B4VlNQUWFrdllraXVjc1ZvcWdKQzlMb2t0d3lyM0J4bmhicnMraE9Xc1BsYzNTTUxERU5HQWpoVVZSNUNuV2tTSGNwdnNOdWhaTFV1NFZNc1kzOUNXUEZSWXZOWTRDeFU2aUpoK3A0ditWUm1ZRGdreFV4VnB4UG83WFpQVGROTm9SYzljYnN5ZnBkUjNieDFMMkZLS3dPWkZaYmJRellia2RFU3pLdnJtNVVrZW1odEdWT2U2dUZTejVWbGJVakpPaFAxaEZnOU9uLy8yMXIvSHBKbjFnTnkreEY1OEV6NStTUHlpMmZLTC85bldmdVA4cXNINU5kUGxOOFk4dHNueXUrZUtiOS9RQjQrVVI0OUlvK2ZLVTl5ZVhwZld2bmM0am5rYThUQitRVTd5QlB3RGg4NFB6TDJ3UTU0blJyNFlBLzFzai9lOTRQekh3eWNIeCtJLzlyWUIvdURYTUo4QTc2VlM2Z0R4QUY4OERmdlM0Z0Q5WUQ3N0tkYy9tYndBRnpBQWI0SGh0K1JzZjlMTG4vTjVjOUdQT0J0OWdYeU5Qc0NkVDdMWmMzQU8vdDQzOTQyOElFUDVBZDJFQTl3am8wMTJKOGE5dkI4Z0RwQmZEalA0eHYvUHN2cVJhWmVUWGZmcnlWNGM0eEZCRS96MHNvQVBuV2xXSUk2Rm9rQlZWV25od0MzcDY2Tk93YnFzOWlJT1U3SUFtTEM1azVFVW5MNHAxeEZzNnhQaGt0RnpGTW11SExhV1AxVnJoak9MK1FLWWIxeDl5dnFSY09Eaks4WVJxL0drNHhQWHgwZkc3Wjd1WDVWMEV0M1hEYit5YkVxOEU2bFBOYmZ2aFdWOTRMRXVGd1NxVDQxWWtnNUlTUDhFdHRYaFZyWDZYQXVHVStoQUdwM2NaaUtWSC8ycUJyRHpyb2sxcWQvQWIra2JKZFpFQUFBIn0= -->

<div data-pagedtable="false">
  <script data-pagedtable-source type="application/json">
{"columns":[{"label":["code"],"name":[1],"type":["chr"],"align":["left"]},{"label":["name"],"name":[2],"type":["chr"],"align":["left"]},{"label":["row"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["col"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"FIN","2":"Finland","3":"1","4":"18"},{"1":"ISL","2":"Iceland","3":"1","4":"12"},{"1":"NOR","2":"Norway","3":"1","4":"16"},{"1":"SWE","2":"Sweden","3":"1","4":"17"},{"1":"CAN","2":"Canada","3":"2","4":"1"},{"1":"EST","2":"Estonia","3":"2","4":"18"},{"1":"IRL","2":"Ireland","3":"2","4":"13"},{"1":"BLR","2":"Belarus","3":"3","4":"19"},{"1":"DNK","2":"Denmark","3":"3","4":"15"},{"1":"LVA","2":"Latvia","3":"3","4":"18"},{"1":"GBR","2":"United Kingdom","3":"3","4":"13"},{"1":"DEU","2":"Germany","3":"4","4":"16"},{"1":"LTU","2":"Lithuania","3":"4","4":"18"},{"1":"NLD","2":"Netherlands","3":"4","4":"15"},{"1":"POL","2":"Poland","3":"4","4":"17"},{"1":"UKR","2":"Ukraine","3":"4","4":"19"},{"1":"USA","2":"United States","3":"4","4":"1"},{"1":"CZE","2":"Czech Republic","3":"5","4":"16"},{"1":"FRA","2":"France","3":"5","4":"14"},{"1":"JPN","2":"Japan","3":"5","4":"35"},{"1":"CHE","2":"Switzerland","3":"5","4":"15"},{"1":"AUT","2":"Austria","3":"6","4":"16"},{"1":"GEO","2":"Georgia","3":"6","4":"20"},{"1":"HUN","2":"Hungary","3":"6","4":"17"},{"1":"KAZ","2":"Kazakhstan","3":"6","4":"23"},{"1":"ROU","2":"Romania","3":"6","4":"18"},{"1":"ESP","2":"Spain","3":"6","4":"13"},{"1":"ARM","2":"Armenia","3":"7","4":"21"},{"1":"BGR","2":"Bulgaria","3":"7","4":"18"},{"1":"HRV","2":"Croatia","3":"7","4":"17"},{"1":"CUB","2":"Cuba","3":"7","4":"4"},{"1":"DOM","2":"Dominican Republic","3":"7","4":"6"},{"1":"ITA","2":"Italy","3":"7","4":"15"},{"1":"MEX","2":"Mexico","3":"7","4":"2"},{"1":"PRT","2":"Portugal","3":"7","4":"12"},{"1":"TUR","2":"Turkey","3":"7","4":"20"},{"1":"UZB","2":"Uzbekistan","3":"7","4":"23"},{"1":"ALB","2":"Albania","3":"8","4":"17"},{"1":"GTM","2":"Guatemala","3":"8","4":"3"},{"1":"HND","2":"Honduras","3":"8","4":"4"},{"1":"IRQ","2":"Iraq","3":"8","4":"21"},{"1":"ISR","2":"Israel","3":"8","4":"19"},{"1":"JAM","2":"Jamaica","3":"8","4":"5"},{"1":"TJK","2":"Tajikistan","3":"8","4":"24"},{"1":"CHN","2":"China","3":"9","4":"30"},{"1":"GRC","2":"Greece","3":"9","4":"18"},{"1":"JOR","2":"Jordan","3":"9","4":"20"},{"1":"SLV","2":"El Salvador","3":"10","4":"3"},{"1":"MAR","2":"Morocco","3":"10","4":"13"},{"1":"NIC","2":"Nicaragua","3":"10","4":"4"},{"1":"PAK","2":"Pakistan","3":"10","4":"24"},{"1":"TUN","2":"Tunisia","3":"10","4":"16"},{"1":"CRI","2":"Costa Rica","3":"11","4":"4"},{"1":"NPL","2":"Nepal","3":"11","4":"27"},{"1":"BGD","2":"Bangladesh","3":"12","4":"28"},{"1":"IND","2":"India","3":"12","4":"26"},{"1":"PAN","2":"Panama","3":"12","4":"5"},{"1":"SEN","2":"Senegal","3":"12","4":"12"},{"1":"SDN","2":"Sudan","3":"12","4":"19"},{"1":"BEN","2":"Benin","3":"13","4":"15"},{"1":"COL","2":"Colombia","3":"13","4":"6"},{"1":"GHA","2":"Ghana","3":"13","4":"13"},{"1":"NGA","2":"Nigeria","3":"13","4":"16"},{"1":"TGO","2":"Togo","3":"13","4":"14"},{"1":"VNM","2":"Vietnam","3":"13","4":"32"},{"1":"BRA","2":"Brazil","3":"14","4":"8"},{"1":"ECU","2":"Ecuador","3":"14","4":"5"},{"1":"PHL","2":"Philippines","3":"14","4":"33"},{"1":"GAB","2":"Gabon","3":"15","4":"16"},{"1":"IDN","2":"Indonesia","3":"15","4":"34"},{"1":"KEN","2":"Kenya","3":"15","4":"19"},{"1":"LKA","2":"Sri Lanka","3":"15","4":"27"},{"1":"THA","2":"Thailand","3":"15","4":"30"},{"1":"AGO","2":"Angola","3":"16","4":"16"},{"1":"BOL","2":"Bolivia","3":"16","4":"6"},{"1":"PER","2":"Peru","3":"16","4":"5"},{"1":"ZMB","2":"Zambia","3":"16","4":"17"},{"1":"CHL","2":"Chile","3":"17","4":"5"},{"1":"MYS","2":"Malaysia","3":"17","4":"30"},{"1":"MOZ","2":"Mozambique","3":"17","4":"19"},{"1":"PRY","2":"Paraguay","3":"17","4":"6"},{"1":"URY","2":"Uruguay","3":"17","4":"7"},{"1":"ZWE","2":"Zimbabwe","3":"17","4":"18"},{"1":"AUS","2":"Australia","3":"18","4":"33"},{"1":"ARG","2":"Argentina","3":"19","4":"6"},{"1":"NZL","2":"New Zealand","3":"19","4":"34"}],"options":{"columns":{"min":{},"max":[10],"total":[4]},"rows":{"min":[10],"max":[10],"total":[86]},"pages":{}}}
  </script>
</div>

<!-- rnb-frame-end -->

<!-- rnb-chunk-end -->


<!-- rnb-text-begin -->



<!-- rnb-text-end -->


<!-- rnb-chunk-begin -->


<!-- rnb-source-begin eyJkYXRhIjoiYGBgclxuIyBTb3VyY2UgZGF0YSA6aHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vc3ZtaWxsZXIvNjNkYWNlNGFhNWEwMGVkZGNlMzA3ZDk2NGM3YmFjMjMjZmlsZS1zdHJhdGVnaWNfcml2YWxyaWVzLWNzdlxuc3RyYXRlZ2ljX3JpdmFscmllcyA8LSByZWFkX2NzdignZGF0YS9zdHJhdGVnaWNfcml2YWxyaWVzLmNzdicpXG5gYGAifQ== -->

```r
# Source data :https://gist.github.com/svmiller/63dace4aa5a00eddce307d964c7bac23#file-strategic_rivalries-csv
strategic_rivalries <- read_csv('data/strategic_rivalries.csv')
```

<!-- rnb-source-end -->

<!-- rnb-output-begin eyJkYXRhIjoiUGFyc2VkIHdpdGggY29sdW1uIHNwZWNpZmljYXRpb246XG5jb2xzKFxuICByaXZhbHJ5bm8gPSBjb2xfZG91YmxlKCksXG4gIHJpdmFscnluYW1lID0gY29sX2NoYXJhY3RlcigpLFxuICBzaWRlYSA9IGNvbF9jaGFyYWN0ZXIoKSxcbiAgc2lkZWIgPSBjb2xfY2hhcmFjdGVyKCksXG4gIHN0eWVhciA9IGNvbF9kb3VibGUoKSxcbiAgZW5keWVhciA9IGNvbF9kb3VibGUoKSxcbiAgcmVnaW9uID0gY29sX2NoYXJhY3RlcigpLFxuICB0eXBlMSA9IGNvbF9jaGFyYWN0ZXIoKSxcbiAgdHlwZTIgPSBjb2xfY2hhcmFjdGVyKCksXG4gIHR5cGUzID0gY29sX2NoYXJhY3RlcigpXG4pXG4ifQ== -->

```
Parsed with column specification:
cols(
  rivalryno = col_double(),
  rivalryname = col_character(),
  sidea = col_character(),
  sideb = col_character(),
  styear = col_double(),
  endyear = col_double(),
  region = col_character(),
  type1 = col_character(),
  type2 = col_character(),
  type3 = col_character()
)
```



<!-- rnb-output-end -->

<!-- rnb-source-begin eyJkYXRhIjoiYGBgclxuc3RyYXRlZ2ljX3JpdmFscmllcyAlPiUgXG4gIGNvdW50KHR5cGUxKVxuYGBgIn0= -->

```r
strategic_rivalries %>% 
  count(type1)
```

<!-- rnb-source-end -->

<!-- rnb-frame-begin eyJtZXRhZGF0YSI6eyJjbGFzc2VzIjpbInNwZWNfdGJsX2RmIiwidGJsX2RmIiwidGJsIiwiZGF0YS5mcmFtZSJdLCJucm93Ijo0LCJuY29sIjoyLCJzdW1tYXJ5Ijp7IkEgdGliYmxlIjpbIjQgeCAyIl19fSwicmRmIjoiSDRzSUFBQUFBQUFBQmwxUndVN0RNQXoxc25iVGdzYVF1UE1IcTdRaVBnREJCeUJPNHhqYU1DSkNFcVVac0JzZmpsYWNMRVlvbGRMYXozblBmdTdqL2ZhYWJ6a0FUS0VDQnRNYVE1amRQV3phbXhhZ1lwaE5zTEtJM3krOGRZbEJCQy93Vkxsd3BucHB0ZDJwVHVnTXJaUUowbjlJRTVRMXdoOHl6SjBkVklMbzRueHdJaWhNQVpaSkV1QXF4N2Q0bm9vWmFpUGU1WkQ3TXdMRHdja05UV2tLeXNMYno0Wm9VWmQ5NDJzY3g1OVN1OU5pSUcwQ2VTK0NhRjQ4OGpFN0ZwUzVkZEVOa2xoY1RGMlFKNzRBVm5zVEorblgzZXZldkszYjJDQ1ZUODh5eDlXL21KMWFzakZMMVZscUpzMU9HVW16YS9Fc2FhZm42RGdaYnB6SC8wQk9FQjJhWU1QZjdubG5OU0hKR3h4L0FkTjRKZEVRQWdBQSJ9 -->

<div data-pagedtable="false">
  <script data-pagedtable-source type="application/json">
{"columns":[{"label":["type1"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"ideological","2":"30"},{"1":"interventionary","2":"13"},{"1":"positional","2":"65"},{"1":"spatial","2":"89"}],"options":{"columns":{"min":{},"max":[10],"total":[2]},"rows":{"min":[10],"max":[10],"total":[4]},"pages":{}}}
  </script>
</div>

<!-- rnb-frame-end -->

<!-- rnb-chunk-end -->


<!-- rnb-text-begin -->



<!-- rnb-text-end -->


<!-- rnb-chunk-begin -->


<!-- rnb-source-begin eyJkYXRhIjoiYGBgclxuZ2dyYXBoX2RmIDwtIHN0cmF0ZWdpY19yaXZhbHJpZXMgJT4lXG4gIG11dGF0ZShcbiAgICBzaWRlYSA9IGlmX2Vsc2Uoc3RyZV9kZXRlY3Qoc2lkZWEsJ0JyaXRhaW4nKSwgJ0JyaXRhaW4nLCBzaWRlYSksXG4gICAgc2lkZWIgPSBpZl9lbHNlKHN0cmVfZGV0ZWN0KHNpZGViLCdCcml0YWluJyksICdCcml0YWluJywgc2lkZWIpXG4gICkgJT4lXG4gIG11dGF0ZSh0eXBlMSA9IHN0cl90b190aXRsZSh0eXBlMSkpICU+JSBcbiAgZmlsdGVyKCFzdHJfZGV0ZWN0KHNpZGVhLCAnSXNyJyksIXN0cl9kZXRlY3Qoc2lkZWIsICdJc3InKSkgJT4lXG4gIHJlbmFtZShmcm9tID0gc2lkZWEsIHRvID0gc2lkZWIpICU+JVxuICBtdXRhdGUoc3R5ZWFyICA9IGFzLmludGVnZXIoc3R5ZWFyKSxcbiAgICAgICAgIGVuZHllYXIgPSBhcy5pbnRlZ2VyKGVuZHllYXIpKSAlPiVcbiAgYXNfdGJsX2dyYXBoKGRpcmVjdGVkICA9IEZBTFNFKSAlPiVcbiAgYWN0aXZhdGUobm9kZXMpICU+JVxuICBtdXRhdGUoY29tbXVuaXR5ID0gYXMuZmFjdG9yKGdyb3VwX2xvdXZhaW4oKSkpICU+JVxuICBhZGRfY291bnQoY29tbXVuaXR5KSAlPiVcbiAgZmlsdGVyKG4gPiAyKSBcblxuYGBgIn0= -->

```r
ggraph_df <- strategic_rivalries %>%
  mutate(
    sidea = if_else(stre_detect(sidea,'Britain'), 'Britain', sidea),
    sideb = if_else(stre_detect(sideb,'Britain'), 'Britain', sideb)
  ) %>%
  mutate(type1 = str_to_title(type1)) %>% 
  filter(!str_detect(sidea, 'Isr'),!str_detect(sideb, 'Isr')) %>%
  rename(from = sidea, to = sideb) %>%
  mutate(styear  = as.integer(styear),
         endyear = as.integer(endyear)) %>%
  as_tbl_graph(directed  = FALSE) %>%
  activate(nodes) %>%
  mutate(community = as.factor(group_louvain())) %>%
  add_count(community) %>%
  filter(n > 2) 

```

<!-- rnb-source-end -->

<!-- rnb-output-begin eyJkYXRhIjoiRXJyb3I6IFByb2JsZW0gd2l0aCBgbXV0YXRlKClgIGlucHV0IGBzaWRlYWAuXG54IGNvdWxkIG5vdCBmaW5kIGZ1bmN0aW9uIFwic3RyZV9kZXRlY3RcIlxuaSBJbnB1dCBgc2lkZWFgIGlzIGBpZl9lbHNlKHN0cmVfZGV0ZWN0KHNpZGVhLCBcIkJyaXRhaW5cIiksIFwiQnJpdGFpblwiLCBzaWRlYSlgLlxuUnVuIGBybGFuZzo6bGFzdF9lcnJvcigpYCB0byBzZWUgd2hlcmUgdGhlIGVycm9yIG9jY3VycmVkLlxuIn0= -->

```
Error: Problem with `mutate()` input `sidea`.
x could not find function "stre_detect"
i Input `sidea` is `if_else(stre_detect(sidea, "Britain"), "Britain", sidea)`.
Run `rlang::last_error()` to see where the error occurred.
```



<!-- rnb-output-end -->

<!-- rnb-chunk-end -->


<!-- rnb-text-begin -->





<!-- rnb-text-end -->


<!-- rnb-chunk-begin -->


<!-- rnb-source-begin eyJkYXRhIjoiYGBgclxuXG5wIDwtIGdncmFwaF9kZiAlPiVcbiAgZ2dyYXBoKGxheW91dCA9ICduaWNlbHknKSArXG4gIGdlb21fZWRnZV9saW5rKGFlcyhjb2xvciA9IHR5cGUxKSxcbiAgICAgICAgICAgICAgICAgI2NvbG9yID0gICcjY2I5OTdlJyxcbiAgICAgICAgICAgICAgICAgZWRnZV93aWR0aCA9IDEuNCxcbiAgICAgICAgICAgICAgICAgZWRnZV9hbHBoYSA9IDAuNykgK1xuICBnZW9tX25vZGVfdGV4dChcbiAgICBhZXMobGFiZWwgPSBuYW1lLCBjb2xvciA9IGNvbW11bml0eSksXG4gICAgY2hlY2tfb3ZlcmxhcCA9IFRSVUUsXG4gICAgY29sb3IgPSAnZ3JheTMwJyxcbiAgICBzaXplID0gNSxcbiAgICBmYW1pbHkgPSAgXCJNb250c2VycmF0XCJcbiAgKSArXG4gIHNjYWxlX2NvbG9yX3RhYmxlYXUoZ3VpZGUgPSBGQUxTRSkgK1xuICBzY2FsZV9lZGdlX2NvbG91cl9tYW51YWwodmFsdWVzID0gYygnIzA2ZDZhMCcsICcjZmZkMTY2JywgJyNlZjQ3NmYnLCAnIzExOGFiMicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9ICdOYXR1cmUgb2Ygcml2YWxyeScpICtcbiAgbGFicyhcbiAgICB0aXRsZSA9ICdBIEhpc3Rvcnkgb2YgU3RyYXRlZ2ljIFJpdmFscmllcyBCZXR3ZWVuIE5hdGlvbnMgZnJvbSAxNDk0IHRvIDIwMTAnLFxuICAgIGNvbG9yID0gJyBSaXZhbHJ5IHR5cGUnLFxuICAgIHN1YnRpdGxlID0gJ1llYXIge2ZyYW1lX3RpbWV9JyxcbiAgICBjYXB0aW9uID0gJ0RhdGE6IHN2bWlsbGVyXFxuVmlzdWFsaXphdGlvbjogbWNuYWtoYWVlJ1xuICApICtcbiAgdGhlbWVfZ3JhcGgoKSArXG4gIHRoZW1lKFxuICAgIHRleHQgPSBlbGVtZW50X3RleHQoZmFtaWx5ID0gIFwiTW9udHNlcnJhdFwiKSxcbiAgICBsZWdlbmQucG9zaXRpb24gPSAndG9wJyxcbiAgICBsZWdlbmQudGV4dCA9IGVsZW1lbnRfdGV4dChzaXplID0gMTQpLFxuICAgIHBsb3QudGl0bGUgPSBlbGVtZW50X3RleHQoXG4gICAgICBjb2xvciA9ICdncmF5MjAnLFxuICAgICAgc2l6ZSA9IDI1LFxuICAgICAgZmFtaWx5ID0gIFwiTW9udHNlcnJhdFwiXG4gICAgKSxcbiAgICBwbG90LnN1YnRpdGxlID0gZWxlbWVudF90ZXh0KFxuICAgICAgY29sb3IgPSAnZ3JheTIwJyxcbiAgICAgIHNpemUgPSAyMCxcbiAgICAgIGZhbWlseSA9ICBcIk1vbnRzZXJyYXRcIlxuICAgICksXG4gICAgcGxvdC5jYXB0aW9uICA9IGVsZW1lbnRfdGV4dChcbiAgICAgIGNvbG9yID0gJ2dyYXkzMCcsXG4gICAgICBzaXplID0gMTUsXG4gICAgICBmYW1pbHkgPSAgXCJNb250c2VycmF0XCJcbiAgICApLFxuICAgIHBsb3QuYmFja2dyb3VuZCA9IGVsZW1lbnRfcmVjdChmaWxsID0gJ2dyYXk5NScpLFxuICApICtcbiAgdHJhbnNpdGlvbl9ldmVudHMoXG4gICAgc3RhcnQgPSBzdHllYXIsXG4gICAgZW5kID0gZW5keWVhcixcbiAgICBlbnRlcl9sZW5ndGggPSAxTCxcbiAgICBleGl0X2xlbmd0aCA9IDNMXG4gICkgK1xuICBlbnRlcl9mYWRlKCkgK1xuICBleGl0X2ZhZGUoKVxuXG5cbmFuaW1hdGUocCwgMTAwLCAyLCBoZWlnaHQgPSAxMTAwLCB3aWR0aCA9IDExMDApXG5cbmBgYCJ9 -->

```r

p <- ggraph_df %>%
  ggraph(layout = 'nicely') +
  geom_edge_link(aes(color = type1),
                 #color =  '#cb997e',
                 edge_width = 1.4,
                 edge_alpha = 0.7) +
  geom_node_text(
    aes(label = name, color = community),
    check_overlap = TRUE,
    color = 'gray30',
    size = 5,
    family =  "Montserrat"
  ) +
  scale_color_tableau(guide = FALSE) +
  scale_edge_colour_manual(values = c('#06d6a0', '#ffd166', '#ef476f', '#118ab2'),
                           name = 'Nature of rivalry') +
  labs(
    title = 'A History of Strategic Rivalries Between Nations from 1494 to 2010',
    color = ' Rivalry type',
    subtitle = 'Year {frame_time}',
    caption = 'Data: svmiller\nVisualization: mcnakhaee'
  ) +
  theme_graph() +
  theme(
    text = element_text(family =  "Montserrat"),
    legend.position = 'top',
    legend.text = element_text(size = 14),
    plot.title = element_text(
      color = 'gray20',
      size = 25,
      family =  "Montserrat"
    ),
    plot.subtitle = element_text(
      color = 'gray20',
      size = 20,
      family =  "Montserrat"
    ),
    plot.caption  = element_text(
      color = 'gray30',
      size = 15,
      family =  "Montserrat"
    ),
    plot.background = element_rect(fill = 'gray95'),
  ) +
  transition_events(
    start = styear,
    end = endyear,
    enter_length = 1L,
    exit_length = 3L
  ) +
  enter_fade() +
  exit_fade()


animate(p, 100, 2, height = 1100, width = 1100)

```

<!-- rnb-source-end -->

<!-- rnb-chunk-end -->


<!-- rnb-text-begin -->




<!-- rnb-text-end -->


<!-- rnb-chunk-begin -->


<!-- rnb-source-begin eyJkYXRhIjoiYGBgclxuYW5pbV9zYXZlKCdwbG90c1xcZGF5My5naWYnKVxuXG5gYGAifQ== -->

```r
anim_save('plots\day3.gif')

```

<!-- rnb-source-end -->

<!-- rnb-output-begin eyJkYXRhIjoiRXJyb3I6ICdcXGQnIGlzIGFuIHVucmVjb2duaXplZCBlc2NhcGUgaW4gY2hhcmFjdGVyIHN0cmluZyBzdGFydGluZyBcIidwbG90c1xcZFwiXG4ifQ== -->

```
Error: '\d' is an unrecognized escape in character string starting "'plots\d"
```



<!-- rnb-output-end -->

<!-- rnb-chunk-end -->


<!-- rnb-text-begin -->



<!-- rnb-text-end -->

